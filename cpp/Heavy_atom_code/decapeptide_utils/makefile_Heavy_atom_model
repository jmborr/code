SHELL=/bin/sh

#Variables
CC = g++ 
CFLAGS = -Wno-deprecated -c
CODE = /users/seldon/jmborr/Code
VPATH = $(CODE)/Heavy_atom_code $(CODE)/PDBClasses
LFLAG1 = -L $(CODE)/Heavy_atom_code 
LFLAG2 = -L $(CODE)/PDBClasses
lFLAG1 = -lheavy_atom
lFLAG2 = -lpdbClasses
OBJS = pdb2txt_relax.o amino_acid_param.o atom_param.o miscellanea.o \
       bibliography.o pdbClasses2.o
HDRS = amino_acid_param.h atom_param.h miscellanea.h random.h
INCLUDES= -I $(CODE)/Heavy_atom_code -I $(CODE)/PDBClasses

#Default target

if [$2==PDB]
txt2txt.x: heavy_atom txt2txt.o
	echo BUILDING EXECUTABLE pdb2txt_relax.x
	$(CC) $(LFLAG) -o $@ txt2txt.o $(lFLAG)

#Auxiliary targets
heavy_atom:
	cd $(CODE)/Heavy_atom_code ; make all

txt2txt.o: txt2txt.cpp $(HDRS)
	$(CC) $(CFLAGS) $(INCLUDES) $<

clean:
	rm -f *.o core 
	cd $(CODE)/Heavy_atom_code ; make clean
